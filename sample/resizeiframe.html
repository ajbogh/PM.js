<html>
<head>
    <script type="text/javascript" src="https://rawgit.com/ajbogh/PM.js/master/src/PM.js"></script>

    <script>
        // Add some security for the parent website's postMessage listener.
        // Note: This does not interfere with existing postMessage systems 
        // such as Google or Facebook.
        PM.addAuthorizedUrl([
            "http://pminner.local:8889"
        ]);

        // Register the callbacks
        // Note: the functions can be previously defined, they don't have to be anonymous.
        PM.registerListener("resizeIframe", function(response){
            console.log("resizing iframe to: "+response.data.width+"x"+response.data.height);
            var iframe = document.getElementById('iframe');
            iframe.style.height = response.data.height;
            iframe.style.width = response.data.width;
        });
    </script>
</head>
<body>
    <!-- whatever body you want. -->
    <iframe id="iframe" src="http://pminner.local:8889/resizeiframeinner.html"></iframe>
</body>
</html>
