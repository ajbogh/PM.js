<html>
<head>
    <script type="text/javascript" src="src/PM.js"></script>

    <script>
        // Add some security for the parent website's postMessage listener.
        // Note: This does not interfere with existing postMessage systems 
        // such as Google or Facebook.
        PM.addAuthorizedUrl([
            "http://pminner.local:8000"
        ]);

        // Register the callbacks
        // Note: the functions can be previously defined, they don't have to be anonymous.
        PM.registerListener("resizeIframe", function(data){
            console.log("resizing to: "+data.width+"x"+data.height);
            var iframe = document.getElementById('iframe');
            iframe.style.height = data.height;
            iframe.style.width = data.width;
        });
    </script>
</head>
<body>
    <!-- whatever body you want. -->
    <iframe id="iframe" src="http://pminner.local:8000/otherdomain/resizeiframeinner.html"></iframe>
</body>
</html>
